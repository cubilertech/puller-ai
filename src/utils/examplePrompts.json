{
  "couldyougetthetop10performingskusbyregionforthelastquarter?": {
    "query": "Could you get the top 10 performing SKUs by region for the last quarter?",
    "description":"This query looks at the Sales by Region for %Brand% and filters for sales in the [quarter_last] and groups by region and SKU. It then calculates the [revenue_txt] for each SKU within each region. Finally it orders the results by total revenue in descending order and returns only the top [top_skus_number] SKUs.",
    "id":"query#1234567890",
    "sql":"SELECT TOP 10 r.region, s.sku, SUM(s.revenue) AS total_revenue, FROM sales s JOIN region r ON s.region_id = r.id WHERE s.sale_date >= DATEADD(quarter, -1, GETDATE()) GROUP BY r.region, s.sku ORDER BY total_revenue DESC;",
    "target":"",
    "graph":[],
    "variables":[
      {
      "id": "quarter_last",
      "model": "",
      "name": "last_quarter",
      "type": "select_single",
      "value": "last quarter",
      "detail": "The last quarter refers to the most recent complete calendar quarter ending Mar 31 2024",
      "discription":  "Choose target period end date, inclusive.",
      "selectData": ["First quarter", "Second quarter", "Third quarter","Last Quarter"]
    },
     {
      "id": "revenue_txt",
      "model": "",
      "name": "revenue",
      "type": "select_single",
      "value": "total revenue",
      "discription": "Choose how to rank SKUs",
      "selectData": ["Total Revenue", "Total Units Sold", "Avg Profit Margin"]
    },
    {
      "id": "top_skus_number",
      "model": "",
      "name": "top_skus",
      "type": "numeric",
      "value": 10
    }],
    "observations":"In the last quarter, the top 10 SKUs for %Brand% generated a combined total revenue of $2.5 million, with the highest contributions from the North and West regions, accounting for $1.2 million and $900,000 respectively. These SKUs achieved significant sales volumes, with the top SKU selling 15,000 units, and maintained an average profit margin of 25%, suggesting both high demand and profitability.",
    "notes":["Broad Sales Overview: The data covers last quarter sales for all SKUs across multiple regions, providing a broad view of performance. Analyzing monthly sales trends could reveal important seasonal patterns.","Demographic Insights: Investigating customer demographics could help identify key buyer segments and improve targeted marketing. This demographic analysis can be particularly useful for tailoring regional strategies.","Impact of Marketing: Evaluating regional marketing efforts could provide insights into their impact on sales. For example, a 15% sales increase in the West region coincided with a recent ad campaign.","Quarterly Growth Analysis: Comparing current performance with previous quarters can help identify growth trends. Sales grew by 10% compared to the previous quarter, highlighting consistent growth.","Inventory Turnover Insights: Exploring inventory turnover rates alongside sales data can provide a fuller picture of SKU performance. High turnover rates might indicate strong demand and efficient inventory management"],
    "columns": ["Region", "Product", "Revenue", "Units Sold", "Profit Margin"],
    "rows": [
      {"Region": "North", "Product": "Product A", "Revenue": "$62,500", "Units Sold": 550, "Profit Margin": "30%"},
      {"Region": "South", "Product": "Product B", "Revenue": "$45,000", "Units Sold": 400, "Profit Margin": "22%"},
      {"Region": "East", "Product": "Product C", "Revenue": "$70,000", "Units Sold": 650, "Profit Margin": "28%"},
      {"Region": "West", "Product": "Product D", "Revenue": "$80,000", "Units Sold": 700, "Profit Margin": "25%"},
      {"Region": "North", "Product": "Product E", "Revenue": "$55,000", "Units Sold": 450, "Profit Margin": "20%"},
      {"Region": "South", "Product": "Product F", "Revenue": "$42,000", "Units Sold": 350, "Profit Margin": "18%"},
      {"Region": "East", "Product": "Product G", "Revenue": "$65,000", "Units Sold": 600, "Profit Margin": "26%"},
      {"Region": "West", "Product": "Product H", "Revenue": "$75,000", "Units Sold": 550, "Profit Margin": "24%"},
      {"Region": "North", "Product": "Product I", "Revenue": "$57,500", "Units Sold": 500, "Profit Margin": "23%"},
      {"Region": "South", "Product": "Product J", "Revenue": "$40,000", "Units Sold": 300, "Profit Margin": "15%"},
      {"Region": "East", "Product": "Product K", "Revenue": "$75,000", "Units Sold": 650, "Profit Margin": "21%"},
      {"Region": "West", "Product": "Product L", "Revenue": "$85,000", "Units Sold": 750, "Profit Margin": "27%"},
      {"Region": "North", "Product": "Product M", "Revenue": "$60,000", "Units Sold": 550, "Profit Margin": "19%"},
      {"Region": "South", "Product": "Product N", "Revenue": "$50,000", "Units Sold": 400, "Profit Margin": "24%"},
      {"Region": "East", "Product": "Product O", "Revenue": "$80,000", "Units Sold": 700, "Profit Margin": "29%"},
      {"Region": "West", "Product": "Product P", "Revenue": "$90,000", "Units Sold": 800, "Profit Margin": "17%"},
      {"Region": "North", "Product": "Product Q", "Revenue": "$65,000", "Units Sold": 600, "Profit Margin": "28%"},
      {"Region": "South", "Product": "Product R", "Revenue": "$55,000", "Units Sold": 500, "Profit Margin": "16%"},
      {"Region": "East", "Product": "Product S", "Revenue": "$85,000", "Units Sold": 750, "Profit Margin": "25%"},
      {"Region": "West", "Product": "Product T", "Revenue": "$95,000", "Units Sold": 850, "Profit Margin": "22%"},
      {"Region": "North", "Product": "Product U", "Revenue": "$70,000", "Units Sold": 650, "Profit Margin": "20%"},
      {"Region": "South", "Product": "Product V", "Revenue": "$60,000", "Units Sold": 550, "Profit Margin": "26%"},
      {"Region": "East", "Product": "Product W", "Revenue": "$90,000", "Units Sold": 800, "Profit Margin": "17%"},
      {"Region": "West", "Product": "Product X", "Revenue": "$100,000", "Units Sold": 900, "Profit Margin": "30%"},
      {"Region": "North", "Product": "Product Y", "Revenue": "$75,000", "Units Sold": 700, "Profit Margin": "18%"},
      {"Region": "South", "Product": "Product Z", "Revenue": "$65,000", "Units Sold": 600, "Profit Margin": "27%"},
      {"Region": "East", "Product": "Product AA", "Revenue": "$95,000", "Units Sold": 850, "Profit Margin": "23%"},
      {"Region": "West", "Product": "Product BB", "Revenue": "$105,000", "Units Sold": 950, "Profit Margin": "21%"},
      {"Region": "North", "Product": "Product CC", "Revenue": "$80,000", "Units Sold": 750, "Profit Margin": "16%"},
      {"Region": "South", "Product": "Product DD", "Revenue": "$70,000", "Units Sold": 650, "Profit Margin": "29%"},
      {"Region": "East", "Product": "Product EE", "Revenue": "$100,000", "Units Sold": 900, "Profit Margin": "19%"},
      {"Region": "West", "Product": "Product FF", "Revenue": "$110,000", "Units Sold": 1000, "Profit Margin": "24%"},
      {"Region": "North", "Product": "Product GG", "Revenue": "$85,000", "Units Sold": 800, "Profit Margin": "20%"},
      {"Region": "South", "Product": "Product HH", "Revenue": "$75,000", "Units Sold": 700, "Profit Margin": "25%"},
      {"Region": "East", "Product": "Product II", "Revenue": "$105,000", "Units Sold": 950, "Profit Margin": "22%"},
      {"Region": "West", "Product": "Product JJ", "Revenue": "$115,000", "Units Sold": 1050, "Profit Margin": "17%"},
      {"Region": "North", "Product": "Product KK", "Revenue": "$90,000", "Units Sold": 850, "Profit Margin": "26%"},
      {"Region": "South", "Product": "Product LL", "Revenue": "$80,000", "Units Sold": 750, "Profit Margin": "20%"},
      {"Region": "East", "Product": "Product MM", "Revenue": "$110,000", "Units Sold": 1000, "Profit Margin": "18%"},
      {"Region": "West", "Product": "Product NN", "Revenue": "$120,000", "Units Sold": 1100, "Profit Margin": "27%"}
    ],
    "status": "complete",
    "results":[{
        "bytes": 1.4,
        "database": "Prototype",
        "duration": 3.0252435207366943,
        "message": "CREATE TABLE (29.0 rows, 3.7 KiB processed)",
        "rows": 29,
        "schema": "shop",
        "table": "loyalty",
        "url": "/examplePromptsCSV/example1.csv"
      }]
  },
  "i’dlikeatablethatshowsmetheaverageordervalueofourproductscomparedtotheaverageordervalueoftherestofcategoryeachquarterforthelast4quarters.":{
    "query":"I’d like a table that shows me the average order value of our products compared to the average order value of the rest of category each quarter for the last 4 quarters.",
    "description":"This query first calculates the total order value and number of orders for each product from the Sales DB and for the category (minus our products) from the Category DB for each quarter, using sales database. It then calculates the [average_value] for our products and the rest of category for each quarter, and returns the results for [most_recent] [four_quarters] quarters.",
    "id":"query#1234567891",
    "sql":"WITH product_sales AS ( SELECT EXTRACT(QUARTER FROM sale_date) AS sale_quarter, EXTRACT(YEAR FROM sale_date) AS sale_year, product_id, SUM(order_value) AS total_order_value, COUNT(DISTINCT order_id) AS num_orders FROM sales_data WHERE product_id IN (SELECT product_id FROM product_db WHERE brand = 'our_brand') GROUP BY EXTRACT(QUARTER FROM sale_date), EXTRACT(YEAR FROM sale_date), product_id ), category_sales AS ( SELECT EXTRACT(QUARTER FROM sale_date) AS sale_quarter, EXTRACT(YEAR FROM sale_date) AS sale_year, category_id, SUM(order_value) AS total_order_value, COUNT(DISTINCT order_id) AS num_orders FROM sales_data WHERE product_id NOT IN (SELECT product_id FROM product_db WHERE brand = 'our_brand') AND category_id IN (SELECT category_id FROM product_db WHERE brand = 'our_brand') GROUP BY EXTRACT(QUARTER FROM sale_date), EXTRACT(YEAR FROM sale_date), category_id ) SELECT p.sale_quarter, p.sale_year, AVG(p.total_order_value / p.num_orders) AS avg_order_value, AVG(c.total_order_value / c.num_orders) AS avg_category_order_value FROM product_sales p JOIN category_sales c ON p.sale_quarter = c.sale_quarter AND p.sale_year = c.sale_year WHERE p.sale_quarter IN ( SELECT EXTRACT(QUARTER FROM sale_date) FROM sales_data WHERE EXTRACT(YEAR FROM sale_date) = EXTRACT(YEAR FROM CURRENT_DATE) ORDER BY sale_date DESC LIMIT 4 ) GROUP BY p.sale_quarter, p.sale_year ORDER BY p.sale_quarter DESC;",
    "target":"",
    "graph":[
        {
            "depends": [],
            "description": "table of sales data",
            "id": "model.dbt_tutorial.sales",
            "name": "sales"
          },
          {
            "depends": [],
            "description": "table of orders data",
            "id": "model.dbt_tutorial.orders",
            "name": "orders"
          },
          {
            "depends": [
                "model.dbt_tutorial.sales",
                "model.dbt_tutorial.orders"
              ],
            "description":
              "the results for the most recent N quarters",
            "id": "model.dbt_tutorial.quarter",
            "name": "quarter"
          },
          {
            "depends": ["model.dbt_tutorial.quarter"],
            "description": "table of products data",
            "id": "model.dbt_tutorial.products",
            "name": "products"
          }
    ],
    "variables":[
      {
        "id": "average_value",
        "model": "model.dbt_tutorial.average_value",
        "name": "Average_Value",
        "type": "String_hover",
        "value": "average order value",
        "detail": "Average order value calculated by dividing Total Order Value by Number of Orders."
      },
      {
        "id": "most_recent",
        "model": "model.dbt_tutorial.most_recent",
        "name": "Most_Recent",
        "type": "String_hover",
        "value": "the most recent",
        "detail": "The most recent four quarters refers whole calendar quarters, ending March 31, 2024."
      },
      {
        "id": "four_quarters",
        "model": "model.dbt_tutorial.quarter",
        "name": "Average_Value",
        "type": "numeric",
        "value": 4,
        "discription": "Choose target period end date, inclusive."
      }
    ],
    "observations":"In the most recent four quarters, our products generated a total revenue of $10 million across all regions, with an average order value of $300. Comparatively, the rest of the category contributed $20 million in revenue with an average order value of $200.",
    "notes":["Quarterly Revenue Trends: Analyzing quarterly revenue trends can help identify seasonal patterns or fluctuations in consumer demand.","Profit Margin Analysis: Calculate the average profit margin for our products and compare it with the category average to assess profitability.","Geographical Performance: Assess sales performance by region, calculating the percentage increase in revenue by region compared to the previous quarter. We’re seeing up to 20% increases in certain regions which is greater than what we’d expect this year.","Promotional Impact: Evaluate the ROI for recent promotional activities by calculating the percentage increase in revenue attributed to promotions. The average promotional lift for this time period is 15%, which is 1.5% less than previous year.","Customer Segmentation: Segment customers based on purchasing behavior to target marketing efforts effectively using Puller AI’s advanced analytics module."],
    "columns": [
      "Quarter",
      "Total Order Value (Sales DB)",
      "Number of Orders (Sales DB)",
      "Average Order Value (Sales DB)",
      "Category Total Order Value (Category DB)",
      "Category Number of Orders (Category DB)",
      "Category Average Order Value (Category DB)"
    ],
    "rows": [
      ["Q1", 7382, 75, 98.43, 3200, 30, 106.67],
      ["Q2", 5201, 55, 94.56, 4100, 45, 91.11],
      ["Q3", 8900, 90, 98.89, 2500, 20, 125.00],
      ["Q4", 6100, 65, 93.85, 4800, 40, 120.00],
      ["Q1", 4200, 40, 105.00, 2800, 25, 112.00],
      ["Q2", 9500, 95, 100.00, 3400, 35, 97.14],
      ["Q3", 3000, 30, 100.00, 3900, 39, 100.00],
      ["Q4", 7700, 70, 110.00, 4600, 46, 100.00],
      ["Q1", 5800, 60, 96.67, 2200, 22, 100.00],
      ["Q2", 8500, 85, 100.00, 4800, 48, 100.00],
      ["Q3", 4700, 47, 100.00, 3700, 37, 100.00],
      ["Q4", 6800, 68, 100.00, 3100, 31, 100.00],
      ["Q1", 3200, 32, 100.00, 2900, 29, 100.00],
      ["Q2", 7200, 72, 100.00, 4200, 42, 100.00],
      ["Q3", 8900, 89, 100.00, 3600, 36, 100.00],
      ["Q4", 5100, 51, 100.00, 4300, 43, 100.00],
      ["Q1", 6300, 63, 100.00, 2500, 25, 100.00],
      ["Q2", 4500, 45, 100.00, 3800, 38, 100.00],
      ["Q3", 7400, 74, 100.00, 3400, 34, 100.00],
      ["Q4", 8600, 86, 100.00, 2900, 29, 100.00],
      ["Q1", 5900, 59, 100.00, 3100, 31, 100.00],
      ["Q2", 6900, 69, 100.00, 4100, 41, 100.00],
      ["Q3", 4800, 48, 100.00, 4400, 44, 100.00],
      ["Q4", 7200, 72, 100.00, 4000, 40, 100.00],
      ["Q1", 5300, 53, 100.00, 3700, 37, 100.00],
      ["Q2", 8000, 80, 100.00, 2600, 26, 100.00],
      ["Q3", 6700, 67, 100.00, 4500, 45, 100.00],
      ["Q4", 4200, 42, 100.00, 3900, 39, 100.00],
      ["Q1", 7500, 75, 100.00, 3300, 33, 100.00],
      ["Q2", 6000, 60, 100.00, 2800, 28, 100.00]
    ],  
    "status": "complete",
    "results":[{
        "bytes": 2.1,
        "database": "Prototype",
        "duration": 3.0252435207366943,
        "message": "CREATE TABLE (29.0 rows, 3.7 KiB processed)",
        "rows": 29,
        "schema": "shop",
        "table": "loyalty",
        "url": "/examplePromptsCSV/example4.csv"
      }]
  },
  "canyouretrievealistofproductswithcurrentinventorylevelsbelowthethresholdforreorder,aswellasthelastdateinventorylevelswereatorabovethreshold.includethereorderquantityaswell.": {
    "query": "Can you retrieve a list of products with current inventory levels below the threshold for reorder, as well as the last date inventory levels were at or above threshold. Include the reorder quantity as well.",
    "description":"This query joins the Products table with [goods_table_field] on the [prodID_field] field, and filters for products where the current stock level is below the reorder level. [inventory_levels_threshold] Finally, it includes the reorder level and the current stock level in the result set. \nNote that the Goods table is a table that stores the stock in and out for each product, with separate fields for the quantity and the date. The Stock field is calculated as the difference between the In and Out fields, and the ReorderLevel field is a threshold value that triggers a reorder when the stock level falls below it.",
    "id":"query#1234567892",
    "sql":"SELECT Products.ID, Products.Product, Products.Description, Products.Price, Products.Category, Products.Supplier, Goods.Stock, Goods.ReorderLevel, MAX(CASE WHEN Goods.Stock >= Products.ReorderLevel THEN Goods.Date END) AS LastDateAboveThreshold FROM Products INNER JOIN Goods ON Products.ID = Goods.ProdID WHERE Goods.Stock < Products.ReorderLevel GROUP BY Products.ID, Products.Product, Products.Description, Products.Price, Products.Category, Products.Supplier, Goods.Stock, Goods.ReorderLevel;",
    "target":"",
    "graph":[],
    "variables":[
      {
        "id": "goods_table_field",
        "model": "",
        "name": "Goods_table",
        "type": "String_hover",
        "value": "the Goods table ",
        "detail": "Note that the Goods table is a table that stores the stock in and out for each product, with separate fields for the quantity and the date. The Stock field is calculated as the difference between the In and Out fields, and the ReorderLevel field is a threshold value that triggers a reorder when the stock level falls below it."
      },  
      {
        "id": "prodID_field",
        "model": "",
        "name": "ProdID_field",
        "type": "select_single",
        "value": "ProdID",
        "detail": "Product ID refers to the 'ProdID' field",
        "discription": "Choose Your Product",
        "selectData": ["ProdID", "Product_ID_OLD", "ProductALTNUM"]
      },
      {
        "id": "inventory_levels_threshold",
        "model": "",
        "name": "Inventory_Levels_Threshold",
        "type": "String_hover",
        "value": "It then calculates the last date the inventory levels were at or above the threshold.",
        "detail": "This calculation uses a conditional aggregate function"
      }
    ],
    "observations":"This query identifies 50 products with current stock levels below the reorder threshold. The last date inventory levels were at or above the threshold was two weeks ago on average. Reorder levels range from 100 to 500 units, while current stock levels range from 20 to 450 units.",
    "notes":["Data Context: The Goods table facilitates accurate inventory management by tracking stock in and out for each product.","Replenishment Efficiency: Average time taken to replenish stock levels after reaching the threshold provides insights into inventory management efficiency (averaging 14 days).","Inventory Variation: Notable differences exist in reorder and current stock levels among products, with reorder levels ranging from 100 to 500 units and current stock levels ranging from 20 to 450 units.","Irregular Replenishments: Some products may experience sporadic or irregular stock replenishments, possibly due to supplier constraints or seasonal demand fluctuations.","Optimization Opportunities: With an average of 50 products requiring reordering each week, it's evident that inventory management strategies need refinement to minimize stockouts and ensure optimal inventory levels."],
    "columns": ["Product", "Current Stock", "Reorder Level", "Reorder Quantity", "Last in Stock Date"],
    "rows": [
      {"Product": "Product A", "Current Stock": "250", "Reorder Level": "50", "Reorder Quantity": "200", "Last in Stock Date": "2023-05-15"},
      {"Product": "Product B", "Current Stock": "180", "Reorder Level": "40", "Reorder Quantity": "160", "Last in Stock Date": "2023-04-20"},
      {"Product": "Product C", "Current Stock": "300", "Reorder Level": "60", "Reorder Quantity": "240", "Last in Stock Date": "2023-06-10"},
      {"Product": "Product D", "Current Stock": "220", "Reorder Level": "45", "Reorder Quantity": "175", "Last in Stock Date": "2023-05-05"},
      {"Product": "Product E", "Current Stock": "280", "Reorder Level": "55", "Reorder Quantity": "225", "Last in Stock Date": "2023-07-01"},
      {"Product": "Product F", "Current Stock": "190", "Reorder Level": "35", "Reorder Quantity": "155", "Last in Stock Date": "2023-04-25"},
      {"Product": "Product G", "Current Stock": "270", "Reorder Level": "50", "Reorder Quantity": "220", "Last in Stock Date": "2023-05-20"},
      {"Product": "Product H", "Current Stock": "260", "Reorder Level": "55", "Reorder Quantity": "205", "Last in Stock Date": "2023-07-05"},
      {"Product": "Product I", "Current Stock": "200", "Reorder Level": "40", "Reorder Quantity": "160", "Last in Stock Date": "2023-04-30"},
      {"Product": "Product J", "Current Stock": "240", "Reorder Level": "60", "Reorder Quantity": "180", "Last in Stock Date": "2023-06-15"},
      {"Product": "Product K", "Current Stock": "290", "Reorder Level": "50", "Reorder Quantity": "240", "Last in Stock Date": "2023-05-25"},
      {"Product": "Product L", "Current Stock": "210", "Reorder Level": "45", "Reorder Quantity": "165", "Last in Stock Date": "2023-05-10"},
      {"Product": "Product M", "Current Stock": "230", "Reorder Level": "35", "Reorder Quantity": "195", "Last in Stock Date": "2023-04-15"},
      {"Product": "Product N", "Current Stock": "270", "Reorder Level": "55", "Reorder Quantity": "215", "Last in Stock Date": "2023-07-10"},
      {"Product": "Product O", "Current Stock": "250", "Reorder Level": "50", "Reorder Quantity": "200", "Last in Stock Date": "2023-05-20"},
      {"Product": "Product P", "Current Stock": "180", "Reorder Level": "40", "Reorder Quantity": "160", "Last in Stock Date": "2023-04-25"},
      {"Product": "Product Q", "Current Stock": "300", "Reorder Level": "60", "Reorder Quantity": "240", "Last in Stock Date": "2023-06-20"},
      {"Product": "Product R", "Current Stock": "220", "Reorder Level": "45", "Reorder Quantity": "175", "Last in Stock Date": "2023-05-15"},
      {"Product": "Product S", "Current Stock": "280", "Reorder Level": "55", "Reorder Quantity": "225", "Last in Stock Date": "2023-07-05"},
      {"Product": "Product T", "Current Stock": "190", "Reorder Level": "35", "Reorder Quantity": "155", "Last in Stock Date": "2023-04-30"},
      {"Product": "Product U", "Current Stock": "270", "Reorder Level": "50", "Reorder Quantity": "220", "Last in Stock Date": "2023-05-25"},
      {"Product": "Product V", "Current Stock": "260", "Reorder Level": "55", "Reorder Quantity": "205", "Last in Stock Date": "2023-06-10"},
      {"Product": "Product W", "Current Stock": "200", "Reorder Level": "40", "Reorder Quantity": "160", "Last in Stock Date": "2023-05-01"},
      {"Product": "Product X", "Current Stock": "240", "Reorder Level": "60", "Reorder Quantity": "180", "Last in Stock Date": "2023-06-15"},
      {"Product": "Product Y", "Current Stock": "290", "Reorder Level": "50", "Reorder Quantity": "240", "Last in Stock Date": "2023-05-30"},
      {"Product": "Product Z", "Current Stock": "210", "Reorder Level": "45", "Reorder Quantity": "165", "Last in Stock Date": "2023-05-10"},
      {"Product": "Product AA", "Current Stock": "230", "Reorder Level": "35", "Reorder Quantity": "195", "Last in Stock Date": "2023-04-20"},
      {"Product": "Product BB", "Current Stock": "270", "Reorder Level": "55", "Reorder Quantity": "215", "Last in Stock Date": "2023-07-10"}
    ],
    "status": "complete",
    "results":[{
        "bytes": 1,
        "database": "Prototype",
        "duration": 3.0252435207366943, 
        "message": "CREATE TABLE (29.0 rows, 3.7 KiB processed)",
        "rows": 29,
        "schema": "shop",
        "table": "loyalty",
        "url": "/examplePromptsCSV/example3.csv"
      }]
  },
  "showmethedailyunitanddollarsalesvolumeinallstoresinregionxforanyproductthathasstartechnologyforthelastweek.comparethatthedailyunitanddollarsalesvolumeofallotherproductsinregionxoverthesametimeperiod.": {
    "query": "Show me the daily unit and dollar sales volume in all stores in region X for any product that has Star Technology for the last week. Compare that the daily unit and dollar sales volume of all other products in Region X over the same time period.",
    "description":" The query calculates and compares daily unit and dollar sales volumes for '[star_technology]' products and other products in [region_x] over the [last_week]. First, it filters sales_data for '[star_technology]' products in [region_x] from the last week, grouping by date to calculate total order value and units sold. Then, it Filters sales_data for all other products in [region_x] from the last week, grouping by date to calculate total order value and units sold. Finally, it Joins star_sales and other_sales on sale date, and calculates total and [percentage_volumes] for both categories. The result is a table showing daily sales volumes for '[star_technology]' products versus “all other” products in [region_x], allowing for performance comparison over the past week.",
    "id":"query#1234567893",
    "sql": "WITH star_sales AS (SELECT EXTRACT(DAY FROM sale_date) AS sale_day, EXTRACT(MONTH FROM sale_date) AS sale_month, EXTRACT(YEAR FROM sale_date) AS sale_year, product_id, SUM(order_value) AS daily_order_value, SUM(units_sold) AS daily_units_sold FROM sales_data WHERE product_category LIKE '%Star Technology%' AND region = 'X' AND sale_date >= CURRENT_DATE - INTERVAL 'First week' GROUP BY EXTRACT(DAY FROM sale_date), EXTRACT(MONTH FROM sale_date), EXTRACT(YEAR FROM sale_date), product_id), other_sales AS (SELECT EXTRACT(DAY FROM sale_date) AS sale_day, EXTRACT(MONTH FROM sale_date) AS sale_month, EXTRACT(YEAR FROM sale_date) AS sale_year, product_id, SUM(order_value) AS daily_order_value, SUM(units_sold) AS daily_units_sold FROM sales_data WHERE product_category NOT LIKE '%Star Technology%' AND region = 'X' AND sale_date >= CURRENT_DATE - INTERVAL 'First week' GROUP BY EXTRACT(DAY FROM sale_date), EXTRACT(MONTH FROM sale_date), EXTRACT(YEAR FROM sale_date), product_id) SELECT s.sale_day, s.sale_month    ",
    "target":"",
    "graph":[],
    "variables":[
    {
      "id": "star_technology",
      "model": "",
      "name": "Star_Technology",
      "type": "select_multi",
      "value": "Star Technology",
      "detail": "Includes any SKU that with product with attributes 'STAR_int' 'Star group' or 'New_Star_SKU'.",
      "selectData": ["STAR_int", "Star_group", "New_Star_SKU"]
    },
  {
    "id": "region_x",
    "model": "",
    "name": "Region_X",
    "type": "select_single",
    "value": "Region X",
    "selectData": ["Region N", "Region O", "Region P", "Region Q", "Region R", "Region S", "Region T", "Region U", "Region V", "Region W", "Region X", "Region Y", "Region Z"]
  },
  {
    "id": "last_week",
    "model": "",
    "name": "last_week",
    "type": "select_single",
    "value": "last week",
    "detail": "The last week means the most recent complete week ending May 31 2024",
    "selectData": ["First Week", "Last Week"]
  },
  {
    "id": "percentage_volumes",
    "model": "",
    "name": "Percentage_Volumes",
    "type": "String_hover",
    "value": "percentage sales volumes",
    "detail": "This calculation will show Star Technology product sales as a percentage of all other sales."
  }
],
    "observations":"Over the past w'url: /examplePromptsCSV/example1.csv'eek in Region X, 'Star Technology' products generated a total revenue of $50,000 and sold 500 units, while all other products achieved $70,000 in revenue with 700 units sold. The top-selling day was Thursday, with 'Star Technology' products accounting for 40% of total sales volume",
    "notes":["Daily Sales Trends: To evaluate comparative sales on a day over day basis. Calculate the average daily revenue and units sold for each product category. For example, the average daily revenue in the last day for 'Star Technology' products was $7,143, and for 'all other' products was $10,000.","Product Performance Comparison: We recommend comparing the average daily revenue and units sold between 'Star Technology' products and 'all other' products to assess performance, but excluding products that were new during the evaluation period. For instance, 'all other' products may have a higher average daily revenue per unit sold compared to 'Star Technology' products due to new product volume, so the comparison could mislead.","Seasonal Variations: Calculate the percentage change in sales volume from the previous week to identify any significant seasonal variations. For example, sales volume increased by 20% compared to the previous week, and we see similar lifts year on year, this potentially indicates a seasonal spike in demand.","Promotional Analysis: Determine the impact of promotions by calculating the percentage increase in sales volume or revenue during the promotional period. For instance, sales volume increased by 30% during the latest promotion, which suggests a successful campaign.","Customer Preferences: A ratio analysis between all other products and Star Technology products could help uncover customer Preferences. It may be worth reviewing consumer insights trends from the CI_2023 retriever for additional context."],
    "columns": ["Date", "Star Tech Units Sold", "Star Tech Dollar Sales", "Other Units Sold", "Other Dollar Sales", "Total Units Sold", "Total Dollar Sales", "Star Tech Units %", "Star Tech Dollar %"],
    "rows": [
      {"Date": "2023-05-15", "Star Tech Units Sold": "120", "Star Tech Dollar Sales": "$24,000", "Other Units Sold": "450", "Other Dollar Sales": "$90,000", "Total Units Sold": "570", "Total Dollar Sales": "$114,000", "Star Tech Units %": "21.05%", "Star Tech Dollar %": "21.05%"},
      {"Date": "2023-05-16", "Star Tech Units Sold": "110", "Star Tech Dollar Sales": "$22,000", "Other Units Sold": "480", "Other Dollar Sales": "$96,000", "Total Units Sold": "590", "Total Dollar Sales": "$118,000", "Star Tech Units %": "18.64%", "Star Tech Dollar %": "18.64%"},
      {"Date": "2023-05-17", "Star Tech Units Sold": "130", "Star Tech Dollar Sales": "$26,000", "Other Units Sold": "500", "Other Dollar Sales": "$100,000", "Total Units Sold": "630", "Total Dollar Sales": "$126,000", "Star Tech Units %": "20.63%", "Star Tech Dollar %": "20.63%"},
      {"Date": "2023-05-18", "Star Tech Units Sold": "115", "Star Tech Dollar Sales": "$23,000", "Other Units Sold": "460", "Other Dollar Sales": "$92,000", "Total Units Sold": "575", "Total Dollar Sales": "$115,000", "Star Tech Units %": "20.00%", "Star Tech Dollar %": "20.00%"},
      {"Date": "2023-05-19", "Star Tech Units Sold": "140", "Star Tech Dollar Sales": "$28,000", "Other Units Sold": "520", "Other Dollar Sales": "$104,000", "Total Units Sold": "660", "Total Dollar Sales": "$132,000", "Star Tech Units %": "21.21%", "Star Tech Dollar %": "21.21%"},
      {"Date": "2023-05-20", "Star Tech Units Sold": "125", "Star Tech Dollar Sales": "$25,000", "Other Units Sold": "490", "Other Dollar Sales": "$98,000", "Total Units Sold": "615", "Total Dollar Sales": "$123,000", "Star Tech Units %": "20.33%", "Star Tech Dollar %": "20.33%"},
      {"Date": "2023-05-21", "Star Tech Units Sold": "135", "Star Tech Dollar Sales": "$27,000", "Other Units Sold": "510", "Other Dollar Sales": "$102,000", "Total Units Sold": "645", "Total Dollar Sales": "$129,000", "Star Tech Units %": "20.93%", "Star Tech Dollar %": "20.93%"},
      {"Date": "2023-05-22", "Star Tech Units Sold": "105", "Star Tech Dollar Sales": "$21,000", "Other Units Sold": "470", "Other Dollar Sales": "$94,000", "Total Units Sold": "575", "Total Dollar Sales": "$115,000", "Star Tech Units %": "18.26%", "Star Tech Dollar %": "18.26%"},
      {"Date": "2023-05-23", "Star Tech Units Sold": "150", "Star Tech Dollar Sales": "$30,000", "Other Units Sold": "540", "Other Dollar Sales": "$108,000", "Total Units Sold": "690", "Total Dollar Sales": "$138,000", "Star Tech Units %": "21.74%", "Star Tech Dollar %": "21.74%"},
      {"Date": "2023-05-24", "Star Tech Units Sold": "115", "Star Tech Dollar Sales": "$23,000", "Other Units Sold": "480", "Other Dollar Sales": "$96,000", "Total Units Sold": "595", "Total Dollar Sales": "$119,000", "Star Tech Units %": "19.33%", "Star Tech Dollar %": "19.33%"},
      {"Date": "2023-05-25", "Star Tech Units Sold": "160", "Star Tech Dollar Sales": "$32,000", "Other Units Sold": "550", "Other Dollar Sales": "$110,000", "Total Units Sold": "710", "Total Dollar Sales": "$142,000", "Star Tech Units %": "22.54%", "Star Tech Dollar %": "22.54%"},
      {"Date": "2023-05-26", "Star Tech Units Sold": "145", "Star Tech Dollar Sales": "$29,000", "Other Units Sold": "530", "Other Dollar Sales": "$106,000", "Total Units Sold": "675", "Total Dollar Sales": "$135,000", "Star Tech Units %": "21.48%", "Star Tech Dollar %": "21.48%"},
      {"Date": "2023-05-27", "Star Tech Units Sold": "170", "Star Tech Dollar Sales": "$34,000", "Other Units Sold": "570", "Other Dollar Sales": "$114,000", "Total Units Sold": "740", "Total Dollar Sales": "$148,000", "Star Tech Units %": "22.97%", "Star Tech Dollar %": "22.97%"},
      {"Date": "2023-05-28", "Star Tech Units Sold": "130", "Star Tech Dollar Sales": "$26,000", "Other Units Sold": "490", "Other Dollar Sales": "$98,000", "Total Units Sold": "620", "Total Dollar Sales": "$124,000", "Star Tech Units %": "20.97%", "Star Tech Dollar %": "20.97%"},
      {"Date": "2023-05-29", "Star Tech Units Sold": "180", "Star Tech Dollar Sales": "$36,000", "Other Units Sold": "600", "Other Dollar Sales": "$120,000", "Total Units Sold": "780", "Total Dollar Sales": "$156,000", "Star Tech Units %": "23.08%", "Star Tech Dollar %": "23.08%"},
      {"Date": "2023-05-30", "Star Tech Units Sold": "165", "Star Tech Dollar Sales": "$33,000", "Other Units Sold": "550", "Other Dollar Sales": "$110,000", "Total Units Sold": "715", "Total Dollar Sales": "$143,000", "Star Tech Units %": "23.08%", "Star Tech Dollar %": "23.08%"},
      {"Date": "2023-05-31", "Star Tech Units Sold": "140", "Star Tech Dollar Sales": "$28,000", "Other Units Sold": "520", "Other Dollar Sales": "$104,000", "Total Units Sold": "660", "Total Dollar Sales": "$132,000", "Star Tech Units %": "21.21%", "Star Tech Dollar %": "21.21%"},
      {"Date": "2023-06-01", "Star Tech Units Sold": "155", "Star Tech Dollar Sales": "$31,000", "Other Units Sold": "560", "Other Dollar Sales": "$112,000", "Total Units Sold": "715", "Total Dollar Sales": "$143,000", "Star Tech Units %": "21.68%", "Star Tech Dollar %": "21.68%"},
      {"Date": "2023-06-02", "Star Tech Units Sold": "175", "Star Tech Dollar Sales": "$35,000", "Other Units Sold": "590", "Other Dollar Sales": "$118,000", "Total Units Sold": "765", "Total Dollar Sales": "$153,000", "Star Tech Units %": "22.88%", "Star Tech Dollar %": "22.88%"},
      {"Date": "2023-06-03", "Star Tech Units Sold": "160", "Star Tech Dollar Sales": "$32,000", "Other Units Sold": "570", "Other Dollar Sales": "$114,000", "Total Units Sold": "730", "Total Dollar Sales": "$146,000", "Star Tech Units %": "21.92%", "Star Tech Dollar %": "21.92%"},
      {"Date": "2023-06-04", "Star Tech Units Sold": "145", "Star Tech Dollar Sales": "$29,000", "Other Units Sold": "540", "Other Dollar Sales": "$108,000", "Total Units Sold": "685", "Total Dollar Sales": "$137,000", "Star Tech Units %": "21.17%", "Star Tech Dollar %": "21.17%"},
      {"Date": "2023-06-05", "Star Tech Units Sold": "130", "Star Tech Dollar Sales": "$26,000", "Other Units Sold": "500", "Other Dollar Sales": "$100,000", "Total Units Sold": "630", "Total Dollar Sales": "$126,000", "Star Tech Units %": "20.63%", "Star Tech Dollar %": "20.63%"}
    ],
    "status": "complete",
    "results":[{
        "bytes": 1.7,
        "database": "Prototype",
        "duration": 3.0252435207366943,
        "message": "CREATE TABLE (29.0 rows, 3.7 KiB processed)",
        "rows": 29,
        "schema": "shop",
        "table": "loyalty",
        "url": "/examplePromptsCSV/example2.csv"
      }]
  },
  "getlistof100customersorderdate":  {
    "query": "Get list of 100 customers order date",
    "description": "A list of customers with their first order date, last order date, and order count, along with any additional information from the merged shop data, for customers who have made [orders_number] or more orders.",
    "id": "query#1234567894",
    "sql": "with customers as (select id as customer_id, first_name, last_name from `helical-math-378821`.`shop`.`customers`), orders as (select id as order_id, user_id as customer_id, order_date, status from `helical-math-378821`.`shop`.`orders`), customer_orders as (select customer_id, min(order_date) as first_order_date, max(order_date) as last_order_date, count(order_id) as order_count from orders group by 1), final as (select customers.customer_id, customers.first_name, customers.last_name, customer_orders.first_order_date, customer_orders.last_order_date, coalesce(customer_orders.order_count, 0) as order_count from customers left join customer_orders using (customer_id)) select * from final where order_count >= 2",
    "target": "model.dbt_tutorial.loyalty",
    "variables": [
        {
          "id": "orders_number",
          "model": "",
          "name": "Orders_Number",
          "type": "numeric",
          "value": 2,
          "discription": "Chose Number of Orders."
        } 
    ],
    "graph": [],
    "observations":"Over the past last order date, and order count, along with any additional information from the merged shop data, for customers who have made 2 or more orders.",
    "notes": [],
    "columns": ["Date", "Star Tech Units Sold", "Star Tech Dollar Sales", "Other Units Sold", "Other Dollar Sales", "Total Units Sold", "Total Dollar Sales", "Star Tech Units %", "Star Tech Dollar %"],
    "rows": [
      {"Date": "2023-05-15", "Star Tech Units Sold": "120", "Star Tech Dollar Sales": "$24,000", "Other Units Sold": "450", "Other Dollar Sales": "$90,000", "Total Units Sold": "570", "Total Dollar Sales": "$114,000", "Star Tech Units %": "21.05%", "Star Tech Dollar %": "21.05%"},
      {"Date": "2023-05-16", "Star Tech Units Sold": "110", "Star Tech Dollar Sales": "$22,000", "Other Units Sold": "480", "Other Dollar Sales": "$96,000", "Total Units Sold": "590", "Total Dollar Sales": "$118,000", "Star Tech Units %": "18.64%", "Star Tech Dollar %": "18.64%"},
      {"Date": "2023-05-17", "Star Tech Units Sold": "130", "Star Tech Dollar Sales": "$26,000", "Other Units Sold": "500", "Other Dollar Sales": "$100,000", "Total Units Sold": "630", "Total Dollar Sales": "$126,000", "Star Tech Units %": "20.63%", "Star Tech Dollar %": "20.63%"},
      {"Date": "2023-05-18", "Star Tech Units Sold": "115", "Star Tech Dollar Sales": "$23,000", "Other Units Sold": "460", "Other Dollar Sales": "$92,000", "Total Units Sold": "575", "Total Dollar Sales": "$115,000", "Star Tech Units %": "20.00%", "Star Tech Dollar %": "20.00%"},
      {"Date": "2023-05-19", "Star Tech Units Sold": "140", "Star Tech Dollar Sales": "$28,000", "Other Units Sold": "520", "Other Dollar Sales": "$104,000", "Total Units Sold": "660", "Total Dollar Sales": "$132,000", "Star Tech Units %": "21.21%", "Star Tech Dollar %": "21.21%"},
      {"Date": "2023-05-20", "Star Tech Units Sold": "125", "Star Tech Dollar Sales": "$25,000", "Other Units Sold": "490", "Other Dollar Sales": "$98,000", "Total Units Sold": "615", "Total Dollar Sales": "$123,000", "Star Tech Units %": "20.33%", "Star Tech Dollar %": "20.33%"},
      {"Date": "2023-05-21", "Star Tech Units Sold": "135", "Star Tech Dollar Sales": "$27,000", "Other Units Sold": "510", "Other Dollar Sales": "$102,000", "Total Units Sold": "645", "Total Dollar Sales": "$129,000", "Star Tech Units %": "20.93%", "Star Tech Dollar %": "20.93%"},
      {"Date": "2023-05-22", "Star Tech Units Sold": "105", "Star Tech Dollar Sales": "$21,000", "Other Units Sold": "470", "Other Dollar Sales": "$94,000", "Total Units Sold": "575", "Total Dollar Sales": "$115,000", "Star Tech Units %": "18.26%", "Star Tech Dollar %": "18.26%"},
      {"Date": "2023-05-23", "Star Tech Units Sold": "150", "Star Tech Dollar Sales": "$30,000", "Other Units Sold": "540", "Other Dollar Sales": "$108,000", "Total Units Sold": "690", "Total Dollar Sales": "$138,000", "Star Tech Units %": "21.74%", "Star Tech Dollar %": "21.74%"},
      {"Date": "2023-05-24", "Star Tech Units Sold": "115", "Star Tech Dollar Sales": "$23,000", "Other Units Sold": "480", "Other Dollar Sales": "$96,000", "Total Units Sold": "595", "Total Dollar Sales": "$119,000", "Star Tech Units %": "19.33%", "Star Tech Dollar %": "19.33%"},
      {"Date": "2023-05-25", "Star Tech Units Sold": "160", "Star Tech Dollar Sales": "$32,000", "Other Units Sold": "550", "Other Dollar Sales": "$110,000", "Total Units Sold": "710", "Total Dollar Sales": "$142,000", "Star Tech Units %": "22.54%", "Star Tech Dollar %": "22.54%"},
      {"Date": "2023-05-26", "Star Tech Units Sold": "145", "Star Tech Dollar Sales": "$29,000", "Other Units Sold": "530", "Other Dollar Sales": "$106,000", "Total Units Sold": "675", "Total Dollar Sales": "$135,000", "Star Tech Units %": "21.48%", "Star Tech Dollar %": "21.48%"},
      {"Date": "2023-05-27", "Star Tech Units Sold": "170", "Star Tech Dollar Sales": "$34,000", "Other Units Sold": "570", "Other Dollar Sales": "$114,000", "Total Units Sold": "740", "Total Dollar Sales": "$148,000", "Star Tech Units %": "22.97%", "Star Tech Dollar %": "22.97%"},
      {"Date": "2023-05-28", "Star Tech Units Sold": "130", "Star Tech Dollar Sales": "$26,000", "Other Units Sold": "490", "Other Dollar Sales": "$98,000", "Total Units Sold": "620", "Total Dollar Sales": "$124,000", "Star Tech Units %": "20.97%", "Star Tech Dollar %": "20.97%"},
      {"Date": "2023-05-29", "Star Tech Units Sold": "180", "Star Tech Dollar Sales": "$36,000", "Other Units Sold": "600", "Other Dollar Sales": "$120,000", "Total Units Sold": "780", "Total Dollar Sales": "$156,000", "Star Tech Units %": "23.08%", "Star Tech Dollar %": "23.08%"},
      {"Date": "2023-05-30", "Star Tech Units Sold": "165", "Star Tech Dollar Sales": "$33,000", "Other Units Sold": "550", "Other Dollar Sales": "$110,000", "Total Units Sold": "715", "Total Dollar Sales": "$143,000", "Star Tech Units %": "23.08%", "Star Tech Dollar %": "23.08%"},
      {"Date": "2023-05-31", "Star Tech Units Sold": "140", "Star Tech Dollar Sales": "$28,000", "Other Units Sold": "520", "Other Dollar Sales": "$104,000", "Total Units Sold": "660", "Total Dollar Sales": "$132,000", "Star Tech Units %": "21.21%", "Star Tech Dollar %": "21.21%"},
      {"Date": "2023-06-01", "Star Tech Units Sold": "155", "Star Tech Dollar Sales": "$31,000", "Other Units Sold": "560", "Other Dollar Sales": "$112,000", "Total Units Sold": "715", "Total Dollar Sales": "$143,000", "Star Tech Units %": "21.68%", "Star Tech Dollar %": "21.68%"},
      {"Date": "2023-06-02", "Star Tech Units Sold": "175", "Star Tech Dollar Sales": "$35,000", "Other Units Sold": "590", "Other Dollar Sales": "$118,000", "Total Units Sold": "765", "Total Dollar Sales": "$153,000", "Star Tech Units %": "22.88%", "Star Tech Dollar %": "22.88%"},
      {"Date": "2023-06-03", "Star Tech Units Sold": "160", "Star Tech Dollar Sales": "$32,000", "Other Units Sold": "570", "Other Dollar Sales": "$114,000", "Total Units Sold": "730", "Total Dollar Sales": "$146,000", "Star Tech Units %": "21.92%", "Star Tech Dollar %": "21.92%"},
      {"Date": "2023-06-04", "Star Tech Units Sold": "145", "Star Tech Dollar Sales": "$29,000", "Other Units Sold": "540", "Other Dollar Sales": "$108,000", "Total Units Sold": "685", "Total Dollar Sales": "$137,000", "Star Tech Units %": "21.17%", "Star Tech Dollar %": "21.17%"},
      {"Date": "2023-06-05", "Star Tech Units Sold": "130", "Star Tech Dollar Sales": "$26,000", "Other Units Sold": "500", "Other Dollar Sales": "$100,000", "Total Units Sold": "630", "Total Dollar Sales": "$126,000", "Star Tech Units %": "20.63%", "Star Tech Dollar %": "20.63%"}
    ],
    "status": "complete",
    "results": [
      {
        "bytes": 1.7,
        "database": "Prototype",
        "duration": 3.0252435207366943,
        "message": "CREATE TABLE (29.0 rows, 3.7 KiB processed)",
        "rows": 29,
        "schema": "shop",
        "table": "loyalty",
        "url": "/examplePromptsCSV/example2.csv"
      }
    ]
  }
}
